var pokemonRepository=function(){var t=[],o=$("#modal-container");function e(o){"object"==typeof o?t.push(o):alert("This is not an object")}function n(){o.removeClass("is-visible")}return $("body").click(function(){n()}),$(document).keydown(function(t){27==t.keyCode&&n()}),{add:e,getAll:function(){return t},addListItem:function(t){var e=$(".list-group"),a=$('<li class="list-group-item d-flex justify-content-center" id="pokemonItem">'),i=$('<button type="button" class="btn text-center" id="pokemonButton"></button>');a.appendTo(e),i.appendTo(a),i.text(t.name),i.click(function(){!function(t){pokemonRepository.loadDetails(t).then(function(){!function(t){$(o).html("");var e=$("#modal-container");e.addClass("modal");var a=$('<button type="button" class="btn btn-primary" data-toggle="modal"></button>');a.addClass("modal-close"),a.text("Close"),a.click(function(){n()});var i=$('<h1 class="modal-title modal-header"></h1>');i.text(t.name);var s=$('<img class="modal-img"></img>');s.attr("src",t.imageUrl),s.addClass("modal-img");var l=$('<p class="modal-body"></p>');l.text(t.name+" is "+t.height/10+"m tall and weighs "+t.weight/10+" kg!"),a.appendTo(e),i.appendTo(e),s.appendTo(e),l.appendTo(e),e.appendTo(o),o.addClass("is-visible")}(t)})}(t)})},loadList:function(){return $.ajax("https://pokeapi.co/api/v2/pokemon/?limit=900",{dataType:"json"}).then(function(t){$.each(t.results,function(t,o){e(o={name:o.name,detailsurl:o.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var o=t.detailsurl;return $.ajax(o,{dataType:"json"}).then(function(o){t.imageUrl=o.sprites.front_shiny,t.weight=o.weight,t.height=o.height,t.types=Object.keys(o.types)}).catch(function(t){console.error(t)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});