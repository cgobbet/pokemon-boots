var pokemonRepository=function(){var t=[],o="https://pokeapi.co/api/v2/pokemon/?limit=200",e=$("#modal-container");function n(o){"object"==typeof o?t.push(o):alert("This is not an object")}function a(){e.removeClass("is-visible")}return $("body").click(function(){a()}),$(document).keydown(function(t){27==t.keyCode&&a()}),{add:n,getAll:function(){return t},addListItem:function(t){var o=$(".list-group"),n=$('<li class="list-group-item d-flex justify-content-center" id="pokemonItem">'),i=$('<button type="button" class="btn text-center" id="pokemonButton"></button>');n.appendTo(o),i.appendTo(n),i.text(t.name),i.click(function(){!function(t){pokemonRepository.loadDetails(t).then(function(){!function(t){$(e).html("");var o=$("#modal-container");o.addClass("modal");var n=$('<button type="button" class="btn btn-primary" data-toggle="modal"></button>');n.addClass("modal-close"),n.text("Close"),n.click(function(){a()});var i=$('<h1 class="modal-title modal-header"></h1>');i.text(t.name);var s=$('<img class="modal-img"></img>');s.attr("src",t.imageUrl),s.addClass("modal-img");var l=$('<p class="modal-body"></p>');l.text(t.name+" is "+t.height/10+"m tall and weighs "+t.weight/10+" kg!"),n.appendTo(o),i.appendTo(o),s.appendTo(o),l.appendTo(o),o.appendTo(e),e.addClass("is-visible")}(t)})}(t)})},loadList:function(){return $.ajax(o,{dataType:"json"}).then(function(t){$.each(t.results,function(t,o){n(o={name:o.name,detailsurl:o.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var o=t.detailsurl;return $.ajax(o,{dataType:"json"}).then(function(o){t.imageUrl=o.sprites.front_shiny,t.weight=o.weight,t.height=o.height,t.types=Object.keys(o.types)}).catch(function(t){console.error(t)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});